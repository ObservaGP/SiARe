<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cadastrar Membro ‚Äî SiARe</title>
  <link rel="stylesheet" href="../css/layout.css" />
</head>

<body class="with-sidebar-grid">

<aside>
  <h1>SiARe</h1>
  <p class="subtitle">Sistema de Acompanhamento de Relat√≥rios</p>
</aside>

<main class="page-main">

<section class="section-box form-box">

  <a href="equipe.html" class="form-close" aria-label="Fechar">‚úï</a>

  <h3 id="formTitle">Cadastrar Membro da Equipe</h3>

  <!-- üîí autocomplete OFF √© ESSENCIAL -->
  <form id="equipeForm" novalidate autocomplete="off">

    <!-- Nome / CPF -->
    <div class="grid-2">
      <div class="form-group">
        <label for="nome">Nome *</label>
        <input
          id="nome"
          name="nome"
          type="text"
          placeholder="Fulano de Tal"
          autocomplete="name"
          required
        />
      </div>

      <div class="form-group">
        <label for="cpf">CPF *</label>
        <input
          id="cpf"
          name="cpf"
          type="text"
          placeholder="000.000.000-00"
          inputmode="numeric"
          autocomplete="off"
          required
        />
      </div>
    </div>

    <!-- V√≠nculo / SIAPE -->
    <div class="grid-2">
      <div class="form-group">
        <label for="vinculo">V√≠nculo Institucional *</label>
        <select id="vinculo" name="vinculo" required>
          <option value="">‚Äî</option>
          <option value="Docente">Docente</option>
          <option value="T√©cnico-Administrativo">T√©cnico-Administrativo</option>
          <option value="Discente">Discente</option>
          <option value="Externo">Externo</option>
        </select>
      </div>

      <div class="form-group">
        <label for="siape">SIAPE</label>
        <input
          id="siape"
          name="siape"
          type="text"
          placeholder="000000000"
          inputmode="numeric"
          autocomplete="off"
          maxlength="9"
        />
      </div>
    </div>

    <!-- Cargo / Forma -->
    <div class="grid-2">
      <div class="form-group">
        <label for="cargo">Cargo/Fun√ß√£o no Projeto *</label>
        <select id="cargo" name="cargo" required>
          <option value="">‚Äî</option>
          <option value="Coordenador">Coordenador</option>
          <option value="Pesquisador">Pesquisador</option>
          <option value="Pesquisador Estudante">Pesquisador Estudante</option>
          <option value="Pesquisador Externo">Pesquisador Externo</option>
        </select>
      </div>

      <div class="form-group">
        <label for="forma">Forma de Vincula√ß√£o *</label>
        <select id="forma" name="forma" required>
          <option value="">‚Äî</option>
          <option value="Plano de Trabalho">Plano de Trabalho</option>
          <option value="Edital">Edital</option>
        </select>
      </div>
    </div>

    <!-- Cargas Hor√°rias -->
    <div class="grid-2">
      <div class="form-group">
        <label for="chBolsa">C.H. semanal com bolsa *</label>
        <input
          id="chBolsa"
          name="chBolsa"
          type="text"
          placeholder="00"
          inputmode="numeric"
          maxlength="2"
          autocomplete="off"
          required
        />
      </div>

      <div class="form-group">
        <label for="chSemBolsa">C.H. semanal sem bolsa *</label>
        <input
          id="chSemBolsa"
          name="chSemBolsa"
          type="text"
          placeholder="00"
          inputmode="numeric"
          maxlength="2"
          autocomplete="off"
          required
        />
      </div>
    </div>

    <!-- Datas -->
    <div class="grid-2">
      <div class="form-group">
        <label for="inicio">Data de In√≠cio *</label>
        <input id="inicio" name="inicio" type="date" required />
      </div>

      <div class="form-group">
        <label for="fim">Data de T√©rmino *</label>
        <input id="fim" name="fim" type="date" required />
      </div>
    </div>

    <!-- V√≠nculo/C√≥digo / Valor -->
    <div class="grid-2">
      <div class="form-group">
        <label for="tipoVinculo">V√≠nculo/C√≥digo *</label>
        <input
          id="tipoVinculo"
          name="tipoVinculo"
          type="text"
          placeholder="Ex.: PEQ-A, Volunt√°rio, Contrapartida"
          autocomplete="off"
          required
        />
      </div>

      <div class="form-group">
        <label for="valorBolsa">Valor de Bolsa</label>
        <input
          id="valorBolsa"
          name="valorBolsa"
          type="text"
          placeholder="Ex.: 700,00"
          inputmode="decimal"
          autocomplete="off"
        />
      </div>
    </div>

    <!-- Vers√£o / Observa√ß√£o -->
    <div class="grid-2">
      <div class="form-group">
        <label for="versaoVinculo">Vers√£o do V√≠nculo *</label>
        <input
          id="versaoVinculo"
          name="versaoVinculo"
          type="text"
          placeholder="00"
          inputmode="numeric"
          maxlength="2"
          autocomplete="off"
          required
        />
        <div class="text-muted small">
          Use 2 d√≠gitos (00, 01, 02...). A ID √© CPF(d√≠gitos)-Vers√£o.
        </div>
      </div>

      <div class="form-group">
        <label for="observacao">Observa√ß√£o</label>
        <textarea
          id="observacao"
          name="observacao"
          rows="3"
          placeholder="Anota√ß√µes sobre o v√≠nculo (opcional)"
        ></textarea>
      </div>
    </div>

    <div class="form-footer-info">
      <div>*Campos obrigat√≥rios</div>
      <div id="saveInfo" class="right" aria-live="polite"></div>
    </div>

    <!-- A√ß√µes -->
    <div class="form-actions">
      <div class="form-actions-left">
        <button type="reset" class="btn-clear">Limpar</button>
      </div>

      <div class="form-actions-right">
        <button id="btnSubmit" type="submit" class="btn-save">Salvar</button>
      </div>
    </div>

  </form>

</section>

<div id="confirmModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="confirmTitle">
  <div class="modal-box">
    <p id="confirmTitle">
      J√° existe um registro com esta <strong>ID (CPF+Vers√£o)</strong> cadastrado.<br>
      Deseja substitu√≠-lo?
    </p>

    <div class="modal-actions">
      <button id="btnNao" class="btn-danger">N√£o</button>
      <button id="btnSim" class="btn-success">Sim</button>
    </div>
  </div>
</div>

</main>



<script>
  window.addEventListener('DOMContentLoaded', () => {
    if (!window.SIARE_FORM_LOADED) {
      const box = document.createElement('div');
      box.style.cssText =
        'margin-top:12px;padding:10px 12px;border:2px solid #b00020;border-radius:10px;' +
        'background:#fff;color:#b00020;font-weight:700;max-width:980px;width:min(980px,96vw);';
      box.textContent =
        'ERRO: equipe-form.js N√ÉO carregou. Verifique o caminho/capitaliza√ß√£o em js/equipe-form.js';
      document.querySelector('main')?.appendChild(box);
    }
  });
</script>
<script src="../js/sidebar.js"></script>
<script src="../js/equipe-form.js" defer></script>
</body>
</html>
